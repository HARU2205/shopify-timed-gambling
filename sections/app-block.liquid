{{ 'flip.css' | asset_url | stylesheet_tag }}
{{ 'flip.js' | asset_url | script_tag }}
{% assign now = 'now' | date:'%Y-%m-%d' %}


{%- style -%}
  .tick {
    font-size: 1rem;
    white-space: nowrap;
    font-family: arial, sans-serif;
  }

  .tick-flip,
  .tick-text-inline {
    font-size: 2.5em;
  }

  .tick-label {
    margin-top: 1em;
    font-size: 1em;
  }

  .tick-char {
    width: 1.5em;
  }

  .tick-text-inline {
    display: inline-block;
    text-align: center;
    min-width: 1em;
  }

  .tick-text-inline + .tick-text-inline {
    margin-left: -0.325em;
  }

  .tick-group {
    margin: 0 0.5em;
    text-align: center;
  }

  body {
    background-color: rgb(255, 255, 255) !important;
  }

  .tick-text-inline {
    color: rgb(90, 93, 99) !important;
  }

  .tick-label {
    color: rgb(90, 93, 99) !important;
  }

  .tick-flip-panel {
    color: rgb(255, 255, 255) !important;
  }

  .tick-flip {
    font-family:  !important;
  }

  .tick-flip-panel-text-wrapper {
    line-height: 1.45 !important;
  }

  .tick-flip-panel {
    background-color: rgb(59, 61, 59) !important;
  }

  .tick-flip {
    border-radius: 0.12em !important;
  }

  .desktop-content-position_left {
    text-align: left;
  }
  .desktop_content_position_center {
    text-align: center;
  }
  .desktop_content_position_right {
    text-align: right;
  }
{%- endstyle -%}


{%- comment -%}
  全体の見出し部分
{%- endcomment -%}
<div class="heading">
  {%- if section.settings.heading -%}
    <h2 style="font-size:{{ section.settings.text_size }}px;">
      {{ section.settings.heading }}</h2>
  {%- endif -%}
</div>

{%- comment -%}
  タイマータイトル部分
{%- endcomment -%}
<div class="title">
  {%- if section.settings.title -%}
    <p class="{{ section.settings.desktop_content_position }}">{{ section.settings.title }}</p>
  {%- endif -%}
</div>

{%- comment -%}
  タイマー部分
{%- endcomment -%}
<div class="tick" data-did-init="handleTickInit" data-credits="false">
  <div data-repeat="true" data-layout="horizontal fit" data-transform="preset(d, h, m, s,) -> delay">
    <div class="tick-group">
      <div data-key="value" data-repeat="true" data-transform="pad(00) -> split -> delay">
        <span data-view="flip"></span>
      </div>
      <span data-key="label" data-view="text" class="tick-label"></span>
    </div>
  </div>
</div>


{%- comment -%}
  ブログ部分
{%- endcomment -%}

<script>
  function handleTickInit(tick) {
    var mon = 'evrey day at    {{ section.settings.monday }}';
    console.log(mon);
    console.log(typeof(mon));


    var counter = Tick.count.schedule(mon, {
      format: ['d', 'h', 'm', 's']
    });

    console.log(counter);
    counter.onupdate = function(value) {
      tick.value = value;
    }
  }
  console.log({{now}});
</script>

{% schema %}

  {
    "name": "TimedGambling",
    "templates": [
      "product", "index"
    ],
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "見出し",
        "default": "ZigenBakuti"
      },
      {
        "type": "select",
        "id": "text_size",
        "label": "見出しのサイズ",
        "options": [
          {
            "value": "20",
            "label": "小"
          }, {
            "value": "30",
            "label": "中"
          }, {
            "value": "40",
            "label": "大"
          }
        ],
        "default": "30"
      },
      {
        "type": "header",
        "content": "タイマー設定"
      },
      {
        "type": "text",
        "id": "title",
        "label": "タイトル",
        "default": "カウントダウン"
      }, {
        "type": "select",
        "id": "desktop_content_position",
        "label": "タイトルの位置",
        "options": [
          {
            "value": "desktop_content_position_left",
            "label": "左"
          }, {
            "value": "desktop_content_position_center",
            "label": "中央"
          }, {
            "value": "desktop_content_position_right",
            "label": "右"
          }
        ]
      }, {
        "type": "select",
        "id": "monday",
        "label": "更新時間(毎週月曜日)",
        "options": [
          {
            "value": "0",
            "label": "0"
          },
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          }, {
            "value": "4",
            "label": "4"
          }, {
            "value": "5",
            "label": "5"
          }, {
            "value": "6",
            "label": "6"
          }, {
            "value": "7",
            "label": "7"
          }, {
            "value": "8",
            "label": "8"
          }, {
            "value": "9",
            "label": "9"
          }, {
            "value": "10",
            "label": "10"
          }, {
            "value": "11",
            "label": "11"
          }, {
            "value": "12",
            "label": "12"
          }, {
            "value": "13",
            "label": "13"
          }, {
            "value": "14",
            "label": "14"
          }, {
            "value": "15",
            "label": "15"
          }, {
            "value": "16",
            "label": "16"
          }, {
            "value": "17",
            "label": "17"
          }, {
            "value": "18",
            "label": "18"
          }, {
            "value": "19",
            "label": "19"
          }, {
            "value": "20",
            "label": "20"
          }, {
            "value": "21",
            "label": "21"
          }, {
            "value": "22",
            "label": "22"
          }, {
            "value": "23",
            "label": "23"
          }
        ]
      }, {
        "type": "select",
        "id": "tuesday",
        "label": "更新時間(毎週火曜日)",
        "options": [
          {
            "value": "0",
            "label": "0"
          },
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          }, {
            "value": "4",
            "label": "4"
          }, {
            "value": "5",
            "label": "5"
          }, {
            "value": "6",
            "label": "6"
          }, {
            "value": "7",
            "label": "7"
          }, {
            "value": "8",
            "label": "8"
          }, {
            "value": "9",
            "label": "9"
          }, {
            "value": "10",
            "label": "10"
          }, {
            "value": "11",
            "label": "11"
          }, {
            "value": "12",
            "label": "12"
          }, {
            "value": "13",
            "label": "13"
          }, {
            "value": "14",
            "label": "14"
          }, {
            "value": "15",
            "label": "15"
          }, {
            "value": "16",
            "label": "16"
          }, {
            "value": "17",
            "label": "17"
          }, {
            "value": "18",
            "label": "18"
          }, {
            "value": "19",
            "label": "19"
          }, {
            "value": "20",
            "label": "20"
          }, {
            "value": "21",
            "label": "21"
          }, {
            "value": "22",
            "label": "22"
          }, {
            "value": "23",
            "label": "23"
          }
        ]
      }, {
        "type": "select",
        "id": "wednesday",
        "label": "更新時間(毎週水曜日)",
        "options": [
          {
            "value": "0",
            "label": "0"
          },
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          }, {
            "value": "4",
            "label": "4"
          }, {
            "value": "5",
            "label": "5"
          }, {
            "value": "6",
            "label": "6"
          }, {
            "value": "7",
            "label": "7"
          }, {
            "value": "8",
            "label": "8"
          }, {
            "value": "9",
            "label": "9"
          }, {
            "value": "10",
            "label": "10"
          }, {
            "value": "11",
            "label": "11"
          }, {
            "value": "12",
            "label": "12"
          }, {
            "value": "13",
            "label": "13"
          }, {
            "value": "14",
            "label": "14"
          }, {
            "value": "15",
            "label": "15"
          }, {
            "value": "16",
            "label": "16"
          }, {
            "value": "17",
            "label": "17"
          }, {
            "value": "18",
            "label": "18"
          }, {
            "value": "19",
            "label": "19"
          }, {
            "value": "20",
            "label": "20"
          }, {
            "value": "21",
            "label": "21"
          }, {
            "value": "22",
            "label": "22"
          }, {
            "value": "23",
            "label": "23"
          }
        ]
      }, {
        "type": "select",
        "id": "thursday",
        "label": "更新時間(毎週木曜日)",
        "options": [
          {
            "value": "0",
            "label": "0"
          },
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          }, {
            "value": "4",
            "label": "4"
          }, {
            "value": "5",
            "label": "5"
          }, {
            "value": "6",
            "label": "6"
          }, {
            "value": "7",
            "label": "7"
          }, {
            "value": "8",
            "label": "8"
          }, {
            "value": "9",
            "label": "9"
          }, {
            "value": "10",
            "label": "10"
          }, {
            "value": "11",
            "label": "11"
          }, {
            "value": "12",
            "label": "12"
          }, {
            "value": "13",
            "label": "13"
          }, {
            "value": "14",
            "label": "14"
          }, {
            "value": "15",
            "label": "15"
          }, {
            "value": "16",
            "label": "16"
          }, {
            "value": "17",
            "label": "17"
          }, {
            "value": "18",
            "label": "18"
          }, {
            "value": "19",
            "label": "19"
          }, {
            "value": "20",
            "label": "20"
          }, {
            "value": "21",
            "label": "21"
          }, {
            "value": "22",
            "label": "22"
          }, {
            "value": "23",
            "label": "23"
          }
        ]
      }, {
        "type": "select",
        "id": "friday",
        "label": "更新時間(毎週金曜日)",
        "options": [
          {
            "value": "0",
            "label": "0"
          },
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          }, {
            "value": "4",
            "label": "4"
          }, {
            "value": "5",
            "label": "5"
          }, {
            "value": "6",
            "label": "6"
          }, {
            "value": "7",
            "label": "7"
          }, {
            "value": "8",
            "label": "8"
          }, {
            "value": "9",
            "label": "9"
          }, {
            "value": "10",
            "label": "10"
          }, {
            "value": "11",
            "label": "11"
          }, {
            "value": "12",
            "label": "12"
          }, {
            "value": "13",
            "label": "13"
          }, {
            "value": "14",
            "label": "14"
          }, {
            "value": "15",
            "label": "15"
          }, {
            "value": "16",
            "label": "16"
          }, {
            "value": "17",
            "label": "17"
          }, {
            "value": "18",
            "label": "18"
          }, {
            "value": "19",
            "label": "19"
          }, {
            "value": "20",
            "label": "20"
          }, {
            "value": "21",
            "label": "21"
          }, {
            "value": "22",
            "label": "22"
          }, {
            "value": "23",
            "label": "23"
          }
        ]
      }, {
        "type": "select",
        "id": "saturday",
        "label": "更新時間(毎週土曜日)",
        "options": [
          {
            "value": "0",
            "label": "0"
          },
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          }, {
            "value": "4",
            "label": "4"
          }, {
            "value": "5",
            "label": "5"
          }, {
            "value": "6",
            "label": "6"
          }, {
            "value": "7",
            "label": "7"
          }, {
            "value": "8",
            "label": "8"
          }, {
            "value": "9",
            "label": "9"
          }, {
            "value": "10",
            "label": "10"
          }, {
            "value": "11",
            "label": "11"
          }, {
            "value": "12",
            "label": "12"
          }, {
            "value": "13",
            "label": "13"
          }, {
            "value": "14",
            "label": "14"
          }, {
            "value": "15",
            "label": "15"
          }, {
            "value": "16",
            "label": "16"
          }, {
            "value": "17",
            "label": "17"
          }, {
            "value": "18",
            "label": "18"
          }, {
            "value": "19",
            "label": "19"
          }, {
            "value": "20",
            "label": "20"
          }, {
            "value": "21",
            "label": "21"
          }, {
            "value": "22",
            "label": "22"
          }, {
            "value": "23",
            "label": "23"
          }
        ]
      }, {
        "type": "select",
        "id": "sunday",
        "label": "更新時間(毎週日曜日)",
        "options": [
          {
            "value": "0",
            "label": "0"
          },
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          }, {
            "value": "4",
            "label": "4"
          }, {
            "value": "5",
            "label": "5"
          }, {
            "value": "6",
            "label": "6"
          }, {
            "value": "7",
            "label": "7"
          }, {
            "value": "8",
            "label": "8"
          }, {
            "value": "9",
            "label": "9"
          }, {
            "value": "10",
            "label": "10"
          }, {
            "value": "11",
            "label": "11"
          }, {
            "value": "12",
            "label": "12"
          }, {
            "value": "13",
            "label": "13"
          }, {
            "value": "14",
            "label": "14"
          }, {
            "value": "15",
            "label": "15"
          }, {
            "value": "16",
            "label": "16"
          }, {
            "value": "17",
            "label": "17"
          }, {
            "value": "18",
            "label": "18"
          }, {
            "value": "19",
            "label": "19"
          }, {
            "value": "20",
            "label": "20"
          }, {
            "value": "21",
            "label": "21"
          }, {
            "value": "22",
            "label": "22"
          }, {
            "value": "23",
            "label": "23"
          }
        ]
      }, {
        "type": "header",
        "content": "ランダム設定"
      }, {
        "type": "blog",
        "id": "blog_monday",
        "label": "毎週月曜日"
      }
    ],
    "presets": [
      {
        "name": "TimedGambling"
      }
    ]


// , {
// "type": "blog",
// "id": "blog_tuesday",
// "label": "毎週火曜日"
// }, {
// "type": "blog",
// "id": "blog_wednesday",
// "label": "毎週水曜日"
// }, {
// "type": "blog",
// "id": "blog_thursday",
// "label": "毎週木曜日"
// }, {
// "type": "blog",
// "id": "blog_friday",
// "label": "毎週金曜日"
// }, {
// "type": "blog",
// "id": "blog_saturday",
// "label": "毎週土曜日"
// }, {
// "type": "blog",
// "id": "blog_sunday",
// "label": "毎週日曜日"
// }

  }
{% endschema %}